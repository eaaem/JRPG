[gd_scene load_steps=29 format=3 uid="uid://uq4i3kybaxhq"]

[ext_resource type="PackedScene" uid="uid://byhtfco1xbelx" path="res://Party/Thalria/thalria.glb" id="1_sr7k5"]
[ext_resource type="PackedScene" uid="uid://d4hbovi73um7x" path="res://Party/Thalria/thalria_staff.glb" id="2_hpaat"]
[ext_resource type="AnimationNodeBlendTree" uid="uid://bb1oypehus0u" path="res://Party/0Core/member_animation_tree.tres" id="3_35bkt"]
[ext_resource type="Script" path="res://Dialogue/0Core/DialogueInteraction.cs" id="3_quwwp"]
[ext_resource type="AudioStream" uid="uid://b7i785pitce5k" path="res://Core/footstep1.wav" id="4_fi6d8"]
[ext_resource type="AudioStream" uid="uid://bok1x07qalrg5" path="res://Core/footstep2.wav" id="5_i5j1v"]
[ext_resource type="AudioStream" uid="uid://cssk5x4i0ki51" path="res://Core/footstep3.wav" id="6_m8poh"]
[ext_resource type="AudioStream" uid="uid://cti7dd0fwm5ww" path="res://Core/footstep4.wav" id="7_1upnh"]
[ext_resource type="AudioStream" uid="uid://b546dpfrw5vpp" path="res://Core/footstep5.wav" id="8_ksd85"]
[ext_resource type="AudioStream" uid="uid://bm3i2wii2wk4f" path="res://Core/footstep6.wav" id="9_rohlc"]
[ext_resource type="AudioStream" uid="uid://c1r2wlvij1wh8" path="res://Core/footsteps_grass1.wav" id="10_2kkv4"]
[ext_resource type="AudioStream" uid="uid://cwvfd71mwaj8u" path="res://Core/footsteps_grass2.wav" id="11_jdo8q"]
[ext_resource type="AudioStream" uid="uid://ekeqosutj7gi" path="res://Core/footsteps_grass3.wav" id="12_3c05k"]
[ext_resource type="AudioStream" uid="uid://d3y8bkl5eaysb" path="res://Core/footsteps_grass4.wav" id="13_3tpfx"]
[ext_resource type="AudioStream" uid="uid://d3besxcv2duhq" path="res://Core/footsteps_grass5.wav" id="14_y5jd2"]
[ext_resource type="AudioStream" uid="uid://ck5donxagp11w" path="res://Core/footsteps_grass6.wav" id="15_cdw8g"]
[ext_resource type="Script" path="res://Party/0Core/CharacterAudioController.cs" id="16_umlfm"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_snhpk"]
radius = 0.25

[sub_resource type="BoxShape3D" id="BoxShape3D_6jyj8"]
size = Vector3(1, 2, 1)

[sub_resource type="Animation" id="Animation_pp8hq"]
resource_name = "Blank"

[sub_resource type="Animation" id="Animation_i4xf4"]
resource_name = "RunMethods"
loop_mode = 1
step = 0.01
tracks/0/type = "method"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AudioHandler")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0.06, 0.53),
"transitions": PackedFloat32Array(1, 1),
"values": [{
"args": [],
"method": &"PlayFootstep"
}, {
"args": [],
"method": &"PlayFootstep"
}]
}

[sub_resource type="Animation" id="Animation_vnoh0"]
resource_name = "WalkEvents"
length = 1.0833
loop_mode = 1
step = 0.01
tracks/0/type = "method"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AudioHandler")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0.11, 0.61),
"transitions": PackedFloat32Array(1, 1),
"values": [{
"args": [],
"method": &"PlayFootstep"
}, {
"args": [],
"method": &"PlayFootstep"
}]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_upklh"]
_data = {
"Blank": SubResource("Animation_pp8hq"),
"RunMethods": SubResource("Animation_i4xf4"),
"WalkEvents": SubResource("Animation_vnoh0")
}

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_2x60y"]
animation = &"WalkEvents"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_8ee5l"]
animation = &"RunMethods"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_8ngh4"]
animation = &"Blank"

[sub_resource type="AnimationNodeBlendSpace1D" id="AnimationNodeBlendSpace1D_76xkv"]
blend_point_0/node = SubResource("AnimationNodeAnimation_2x60y")
blend_point_0/pos = 0.0
blend_point_1/node = SubResource("AnimationNodeAnimation_8ee5l")
blend_point_1/pos = 1.0
blend_point_2/node = SubResource("AnimationNodeAnimation_8ngh4")
blend_point_2/pos = -1.0

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_lqj80"]
nodes/Movement/node = SubResource("AnimationNodeBlendSpace1D_76xkv")
nodes/Movement/position = Vector2(240, 100)
nodes/output/position = Vector2(460, 100)
node_connections = [&"output", 0, &"Movement"]

[node name="thalria_holder" type="Node3D"]

[node name="Weapon" parent="." instance=ExtResource("2_hpaat")]

[node name="Model" parent="." instance=ExtResource("1_sr7k5")]

[node name="Skeleton3D" parent="Model/Armature" index="0"]
bones/0/rotation = Quaternion(0.707107, -5.33851e-08, -5.33851e-08, 0.707107)
bones/1/position = Vector3(-7.23843e-05, -1.11274e-11, -0.802186)
bones/1/rotation = Quaternion(-0.688205, 0.00511178, -0.00572047, 0.725476)
bones/2/rotation = Quaternion(-0.00686137, 1.19197e-07, -7.78437e-10, 0.999976)
bones/3/rotation = Quaternion(-0.0460014, 0.000376167, -3.30467e-05, 0.998941)
bones/4/rotation = Quaternion(1.11814e-09, -0.0176728, -0.000462387, 0.999844)
bones/5/rotation = Quaternion(-0.0196363, -4.11311e-06, 8.91698e-05, 0.999807)
bones/6/position = Vector3(0.0129482, 0.104761, 0.0951571)
bones/6/rotation = Quaternion(-0.10781, 0.101464, -0.677818, 0.72017)
bones/6/scale = Vector3(1, 1, 1)
bones/7/rotation = Quaternion(-0.210498, 0.00988002, -0.017671, 0.977385)
bones/8/rotation = Quaternion(-4.76042e-06, -4.31123e-06, -0.711451, 0.702736)
bones/9/rotation = Quaternion(-0.232524, -0.00942909, 0.0348203, 0.971921)
bones/10/position = Vector3(-4.92879e-08, 6.27824e-09, 2.83035e-08)
bones/10/rotation = Quaternion(0.687413, 0.151572, -0.69721, -0.1356)
bones/10/scale = Vector3(1, 1, 0.999999)
bones/11/position = Vector3(-0.0129404, 0.104757, 0.0951571)
bones/11/rotation = Quaternion(-0.107798, -0.101477, 0.677904, 0.720089)
bones/11/scale = Vector3(1, 1, 1)
bones/12/rotation = Quaternion(-0.210497, -0.00989639, 0.0177002, 0.977384)
bones/12/scale = Vector3(1, 1, 1)
bones/13/position = Vector3(-0.0331823, 0.0724308, 0.081389)
bones/13/scale = Vector3(1, 0.999125, 1)
bones/14/position = Vector3(0.0331847, 0.0724307, 0.0813891)
bones/14/scale = Vector3(1, 0.999125, 1)
bones/16/rotation = Quaternion(0.791857, 0.000237638, 0.000211163, 0.610706)
bones/17/rotation = Quaternion(0.560527, 0.567484, 0.429103, -0.423841)
bones/17/scale = Vector3(1, 1, 1)
bones/18/rotation = Quaternion(-0.234537, -0.00921545, 0.0351871, 0.971427)
bones/19/position = Vector3(-6.92649e-08, 2.11143e-08, -3.79637e-09)
bones/19/rotation = Quaternion(0.687056, 0.152654, -0.697032, -0.137107)
bones/19/scale = Vector3(1, 1, 1)
bones/20/rotation = Quaternion(0.902485, -0.0306637, -0.0744085, -0.423136)
bones/21/rotation = Quaternion(-0.451729, 0.00550845, 0.00976401, 0.892085)
bones/22/position = Vector3(-0.102113, 0.0892219, 8.19375e-05)
bones/22/rotation = Quaternion(0.116748, -0.279673, 0.942662, 0.139788)
bones/22/scale = Vector3(1, 1, 1)
bones/23/rotation = Quaternion(0.340246, 0.000226137, 0.0551967, 0.938715)
bones/23/scale = Vector3(1, 1, 1)
bones/24/rotation = Quaternion(-0.138712, 0.00306487, -0.00292422, 0.990324)
bones/25/rotation = Quaternion(1.86436e-08, 6.41661e-07, 0.00577916, 0.999983)
bones/25/scale = Vector3(1, 1, 1)
bones/26/rotation = Quaternion(-3.57593e-09, -1.41155e-06, 0.0151976, 0.999884)
bones/27/rotation = Quaternion(-1.33492e-08, 9.25301e-07, 0.013454, 0.99991)
bones/27/scale = Vector3(1, 1, 1)
bones/28/rotation = Quaternion(0.109145, 0.118248, 0.239472, 0.957475)
bones/29/rotation = Quaternion(0.0944092, 6.79284e-06, -0.110499, 0.989382)
bones/30/rotation = Quaternion(-0.0207724, 0.0100787, 0.115759, 0.993009)
bones/31/position = Vector3(0.102113, 0.0892219, 8.19659e-05)
bones/31/rotation = Quaternion(-0.115859, -0.221126, 0.953866, -0.166791)
bones/31/scale = Vector3(1, 1, 1)
bones/32/rotation = Quaternion(0.366054, -0.000223567, -0.0593837, 0.928697)
bones/32/scale = Vector3(1, 1, 1)
bones/33/rotation = Quaternion(-0.138427, -0.00188051, 0.003573, 0.990364)
bones/33/scale = Vector3(1, 1, 1)
bones/34/rotation = Quaternion(1.74561e-08, -6.57355e-07, -0.00577912, 0.999983)
bones/34/scale = Vector3(1, 1, 1)
bones/35/rotation = Quaternion(1.89443e-09, 1.4049e-06, -0.0151976, 0.999885)
bones/36/rotation = Quaternion(-6.52865e-09, -9.12762e-07, -0.013454, 0.99991)
bones/36/scale = Vector3(1, 1, 1)
bones/37/rotation = Quaternion(0.0401447, -0.077717, -0.238655, 0.967157)
bones/37/scale = Vector3(1, 1, 1)
bones/38/rotation = Quaternion(0.0944092, -6.63592e-06, 0.110499, 0.989382)
bones/39/rotation = Quaternion(-0.0207724, -0.0100781, -0.115759, 0.993009)
bones/39/scale = Vector3(1, 1, 1)
bones/40/rotation = Quaternion(-0.042189, 0.621194, 0.782219, -0.0216878)
bones/40/scale = Vector3(1, 1, 0.999999)
bones/41/rotation = Quaternion(-0.760238, 9.33136e-05, -0.0118362, 0.649536)
bones/42/rotation = Quaternion(0.256521, 0.0344408, 0.0564814, 0.964272)
bones/43/rotation = Quaternion(0.251796, 0.00820542, -0.0289915, 0.967311)
bones/44/rotation = Quaternion(0.00184057, 0.222109, 0.974755, 0.0227371)
bones/44/scale = Vector3(1, 1, 0.999999)
bones/45/rotation = Quaternion(-0.462845, -0.000127351, 0.00720606, 0.88641)
bones/46/rotation = Quaternion(0.602901, 0.00406896, -0.0563673, 0.795812)
bones/47/rotation = Quaternion(0.352649, 0.00205159, 0.0182231, 0.935576)
bones/48/position = Vector3(0.103103, 0.00689383, -0.0515941)
bones/48/rotation = Quaternion(0.998919, 1.64682e-07, 3.31255e-06, -0.046492)
bones/49/rotation = Quaternion(0.221446, 0.00527294, 0.0368199, 0.974463)
bones/50/position = Vector3(-0.103103, 0.00689383, -0.0515941)
bones/50/rotation = Quaternion(0.993523, 0.015151, -0.0013704, -0.11261)
bones/51/rotation = Quaternion(-0.081259, 0.000959654, 0.00696728, 0.996668)
bones/52/position = Vector3(0.0864929, 0.188405, -0.319143)
bones/53/position = Vector3(0.0684955, 0.690984, -0.294717)
bones/53/rotation = Quaternion(-0.707107, 1.37445e-07, -4.27914e-08, 0.707107)
bones/54/position = Vector3(-0.0865685, -0.0726042, -0.0991079)
bones/54/rotation = Quaternion(-0.0163296, 0, 0.999867, 0)
bones/54/scale = Vector3(1, 1, 1)
bones/55/position = Vector3(-0.0681666, 0.691319, -0.294717)
bones/55/rotation = Quaternion(-0.707107, -3.11424e-08, 1.25796e-07, 0.707107)
bones/55/scale = Vector3(1, 1, 1)
bones/56/position = Vector3(-0.273899, -0.455223, -1.07807)
bones/57/position = Vector3(-0.192426, -0.0375618, -0.844783)
bones/57/rotation = Quaternion(-0.707107, 1.91064e-07, -1.91064e-07, 0.707107)
bones/58/position = Vector3(0.273899, -0.455223, -1.07807)
bones/58/rotation = Quaternion(-0.707107, 1.34254e-07, -8.04926e-09, 0.707107)
bones/59/position = Vector3(0.202069, 0.0283627, -0.848251)
bones/59/rotation = Quaternion(-0.707107, 2.24765e-08, -2.24765e-08, 0.707107)
bones/60/position = Vector3(0.445808, 0.986865, 8.5684e-08)

[node name="BaseTree" type="AnimationTree" parent="."]
root_node = NodePath("../Model")
tree_root = ExtResource("3_35bkt")
anim_player = NodePath("../Model/AnimationPlayer")
parameters/BasicMovement/blend_position = -0.00289297
parameters/Blend2/blend_amount = 0
parameters/BlinkControl/active = false
parameters/BlinkControl/internal_active = false
parameters/BlinkControl/request = 0
parameters/Combat/Attack/active = false
parameters/Combat/Attack/internal_active = false
parameters/Combat/Attack/request = 0
parameters/Combat/Cast/active = false
parameters/Combat/Cast/internal_active = false
parameters/Combat/Cast/request = 0
parameters/Combat/DeathHandler/blend_amount = 0
parameters/Combat/Dodge/active = false
parameters/Combat/Dodge/internal_active = false
parameters/Combat/Dodge/request = 0
parameters/Combat/Hit/active = false
parameters/Combat/Hit/internal_active = false
parameters/Combat/Hit/request = 0
parameters/Combat/IdleOrActive/blend_position = 0
parameters/Combat/ResetDeath/seek_request = -1.0
parameters/CombatControl/blend_amount = 0
parameters/EndDistort/blend_amount = 0
parameters/EndMidDistort/active = false
parameters/EndMidDistort/internal_active = false
parameters/EndMidDistort/request = 0
parameters/MidDistort/blend_amount = 0.0
parameters/TimeSeek/seek_request = -1.0

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
shape = SubResource("CapsuleShape3D_snhpk")

[node name="NavigationAgent3D" type="NavigationAgent3D" parent="."]
path_desired_distance = 0.5
target_desired_distance = 0.5

[node name="BackAnchor" type="Node3D" parent="."]
transform = Transform3D(0.87339, -0.487022, 0, 0.487022, 0.87339, 0, 0, 0, 1, 0.405872, -0.481838, -0.155067)

[node name="IdleCombatAnchor" type="Node3D" parent="."]
transform = Transform3D(1, -4.65661e-10, 2.03547e-17, 0, -4.37114e-08, -1, 4.65661e-10, 1, -4.37114e-08, 0.015721, 0.0546025, -0.791561)

[node name="DialogueHolder" type="Node3D" parent="."]
script = ExtResource("3_quwwp")

[node name="DialogueBox" type="StaticBody3D" parent="."]
collision_layer = 4
input_ray_pickable = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="DialogueBox"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.02305, 0)
shape = SubResource("BoxShape3D_6jyj8")

[node name="CameraPositioner" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.36006, 0)

[node name="SecondaryAnchor" type="Node3D" parent="."]
transform = Transform3D(-0.158533, -0.487022, 0.858881, -0.0884016, 0.87339, 0.478932, -0.983388, 2.23517e-08, -0.181515, 0.303228, -0.2582, -0.144977)

[node name="SecondaryWeapon" type="Node3D" parent="."]
transform = Transform3D(-0.158533, -0.487022, 0.858881, -0.0884016, 0.87339, 0.478932, -0.983388, 2.23517e-08, -0.181515, 0.303228, -0.2582, -0.144977)

[node name="AnimationMethods" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_upklh")
}

[node name="MethodsTree" type="AnimationTree" parent="."]
tree_root = SubResource("AnimationNodeBlendTree_lqj80")
anim_player = NodePath("../AnimationMethods")
parameters/Movement/blend_position = 0

[node name="dirtFootsteps" type="Node3D" parent="."]

[node name="Footstep1" type="AudioStreamPlayer3D" parent="dirtFootsteps"]
stream = ExtResource("4_fi6d8")

[node name="Footstep2" type="AudioStreamPlayer3D" parent="dirtFootsteps"]
stream = ExtResource("5_i5j1v")

[node name="Footstep3" type="AudioStreamPlayer3D" parent="dirtFootsteps"]
stream = ExtResource("6_m8poh")

[node name="Footstep4" type="AudioStreamPlayer3D" parent="dirtFootsteps"]
stream = ExtResource("7_1upnh")

[node name="Footstep5" type="AudioStreamPlayer3D" parent="dirtFootsteps"]
stream = ExtResource("8_ksd85")

[node name="Footstep6" type="AudioStreamPlayer3D" parent="dirtFootsteps"]
stream = ExtResource("9_rohlc")

[node name="grassFootsteps" type="Node3D" parent="."]

[node name="Footstep1" type="AudioStreamPlayer3D" parent="grassFootsteps"]
stream = ExtResource("10_2kkv4")
volume_db = 36.761

[node name="Footstep2" type="AudioStreamPlayer3D" parent="grassFootsteps"]
stream = ExtResource("11_jdo8q")
volume_db = 36.761

[node name="Footstep3" type="AudioStreamPlayer3D" parent="grassFootsteps"]
stream = ExtResource("12_3c05k")
volume_db = 36.761

[node name="Footstep4" type="AudioStreamPlayer3D" parent="grassFootsteps"]
stream = ExtResource("13_3tpfx")
volume_db = 36.761

[node name="Footstep5" type="AudioStreamPlayer3D" parent="grassFootsteps"]
stream = ExtResource("14_y5jd2")
volume_db = 36.761

[node name="Footstep6" type="AudioStreamPlayer3D" parent="grassFootsteps"]
stream = ExtResource("15_cdw8g")
volume_db = 36.761

[node name="AudioHandler" type="Node3D" parent="."]
script = ExtResource("16_umlfm")

[editable path="Model"]
