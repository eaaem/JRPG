[gd_scene load_steps=28 format=3 uid="uid://cnnbqshdbaks4"]

[ext_resource type="PackedScene" uid="uid://c8sbeheqi10fl" path="res://Party/Vakthol/vakthol.glb" id="1_ypitp"]
[ext_resource type="PackedScene" uid="uid://yhwlyfetwmre" path="res://Party/Vakthol/vakthol_axe.glb" id="2_nf168"]
[ext_resource type="Script" path="res://Dialogue/0Core/DialogueInteraction.cs" id="3_2wb2x"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_snhpk"]
radius = 0.25

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_wk5t4"]
animation = &"Idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_y612c"]
animation = &"Run"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_jbo8h"]
animation = &"Walk"

[sub_resource type="AnimationNodeBlendSpace1D" id="AnimationNodeBlendSpace1D_10gv5"]
blend_point_0/node = SubResource("AnimationNodeAnimation_wk5t4")
blend_point_0/pos = -1.0
blend_point_1/node = SubResource("AnimationNodeAnimation_y612c")
blend_point_1/pos = 1.0
blend_point_2/node = SubResource("AnimationNodeAnimation_jbo8h")
blend_point_2/pos = 0.0

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_w4spe"]
animation = &"Hit"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_itvs7"]
animation = &"Cast"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_30r70"]
animation = &"Dodge"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_7v73u"]
animation = &"Death"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_4pvdr"]
animation = &"Attack"

[sub_resource type="Curve" id="Curve_b800d"]
_data = [Vector2(0.910088, 0.0210526), 0.0, 0.0, 0, 0, Vector2(0.993421, 0.873684), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_4n146"]
fadeout_curve = SubResource("Curve_b800d")

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_qtxi4"]

[sub_resource type="AnimationNodeBlend2" id="AnimationNodeBlend2_ethtj"]

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_ato4d"]

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_trhvt"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_tpk76"]
animation = &"CombatIdle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_xmeum"]
animation = &"CombatActive"

[sub_resource type="AnimationNodeBlendSpace1D" id="AnimationNodeBlendSpace1D_7kcpt"]
blend_point_0/node = SubResource("AnimationNodeAnimation_tpk76")
blend_point_0/pos = -1.0
blend_point_1/node = SubResource("AnimationNodeAnimation_xmeum")
blend_point_1/pos = 1.0

[sub_resource type="AnimationNodeTimeSeek" id="AnimationNodeTimeSeek_ltx06"]

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_aj0br"]
graph_offset = Vector2(5.41827, 5.04836)
nodes/Animation/node = SubResource("AnimationNodeAnimation_4pvdr")
nodes/Animation/position = Vector2(0, 80)
"nodes/Animation 2/node" = SubResource("AnimationNodeAnimation_w4spe")
"nodes/Animation 2/position" = Vector2(180, 180)
"nodes/Animation 3/node" = SubResource("AnimationNodeAnimation_itvs7")
"nodes/Animation 3/position" = Vector2(460, 280)
"nodes/Animation 4/node" = SubResource("AnimationNodeAnimation_30r70")
"nodes/Animation 4/position" = Vector2(700, 300)
"nodes/Animation 5/node" = SubResource("AnimationNodeAnimation_7v73u")
"nodes/Animation 5/position" = Vector2(900, 400)
nodes/Attack/node = SubResource("AnimationNodeOneShot_4n146")
nodes/Attack/position = Vector2(200, -80)
nodes/Cast/node = SubResource("AnimationNodeOneShot_qtxi4")
nodes/Cast/position = Vector2(680, 60)
nodes/DeathHandler/node = SubResource("AnimationNodeBlend2_ethtj")
nodes/DeathHandler/position = Vector2(1180, 180)
nodes/Dodge/node = SubResource("AnimationNodeOneShot_ato4d")
nodes/Dodge/position = Vector2(920, 100)
nodes/Hit/node = SubResource("AnimationNodeOneShot_trhvt")
nodes/Hit/position = Vector2(460, 40)
nodes/IdleOrActive/node = SubResource("AnimationNodeBlendSpace1D_7kcpt")
nodes/IdleOrActive/position = Vector2(-20, -60)
nodes/ResetDeath/node = SubResource("AnimationNodeTimeSeek_ltx06")
nodes/ResetDeath/position = Vector2(1040, 340)
nodes/output/position = Vector2(1340, 80)
node_connections = [&"output", 0, &"DeathHandler", &"Attack", 0, &"IdleOrActive", &"Attack", 1, &"Animation", &"Cast", 0, &"Hit", &"Cast", 1, &"Animation 3", &"DeathHandler", 0, &"Dodge", &"DeathHandler", 1, &"ResetDeath", &"Dodge", 0, &"Cast", &"Dodge", 1, &"Animation 4", &"Hit", 0, &"Attack", &"Hit", 1, &"Animation 2", &"ResetDeath", 0, &"Animation 5"]

[sub_resource type="AnimationNodeBlend2" id="AnimationNodeBlend2_wvbys"]

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_5c7fh"]
graph_offset = Vector2(-347.249, -6.65921)
nodes/BasicMovement/node = SubResource("AnimationNodeBlendSpace1D_10gv5")
nodes/BasicMovement/position = Vector2(80, 100)
nodes/Combat/node = SubResource("AnimationNodeBlendTree_aj0br")
nodes/Combat/position = Vector2(-40, 260)
nodes/CombatControl/node = SubResource("AnimationNodeBlend2_wvbys")
nodes/CombatControl/position = Vector2(260, 140)
nodes/output/position = Vector2(460, 100)
node_connections = [&"output", 0, &"CombatControl", &"CombatControl", 0, &"BasicMovement", &"CombatControl", 1, &"Combat"]

[sub_resource type="BoxShape3D" id="BoxShape3D_q3a1p"]
size = Vector3(1, 2, 1)

[node name="vakthol_holder" type="Node3D"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
shape = SubResource("CapsuleShape3D_snhpk")

[node name="Model" parent="." instance=ExtResource("1_ypitp")]

[node name="Skeleton3D" parent="Model/Armature" index="0"]
bones/0/rotation = Quaternion(0.707107, -5.33851e-08, -5.33851e-08, 0.707107)
bones/1/position = Vector3(-1.43788e-07, 2.00674e-28, -0.952262)
bones/1/rotation = Quaternion(-0.666334, -0.00131419, 0.00373509, 0.745643)
bones/4/rotation = Quaternion(-2.7934e-10, 0.00113878, -2.86503e-11, 0.999999)
bones/5/rotation = Quaternion(-0.0308245, -9.79284e-11, -0.00212073, 0.999523)
bones/6/rotation = Quaternion(-0.106866, 0.100355, -0.679152, 0.719209)
bones/9/rotation = Quaternion(-0.213765, -0.0328844, 0.136799, 0.9667)
bones/10/rotation = Quaternion(-0.0303708, -0.214137, 0.96824, 0.125433)
bones/11/rotation = Quaternion(-0.106866, -0.100355, 0.679152, 0.719209)
bones/16/rotation = Quaternion(0.779908, 3.73084e-07, 6.50833e-07, 0.625895)
bones/18/rotation = Quaternion(-0.212504, -0.0322671, 0.13875, 0.966721)
bones/20/position = Vector3(-0.131255, 0.0856299, 3.2471e-05)
bones/20/rotation = Quaternion(0.058742, -0.159504, 0.960997, 0.218155)
bones/20/scale = Vector3(1.00005, 1.00005, 1.00005)
bones/21/rotation = Quaternion(0.573348, 0.00331264, 0.0756738, 0.815803)
bones/21/scale = Vector3(1.00005, 1.00005, 1.00005)
bones/22/rotation = Quaternion(-0.197193, 0.00103608, 0.00636409, 0.980344)
bones/22/scale = Vector3(1.00005, 1.00005, 1.00005)
bones/23/rotation = Quaternion(8.37924e-05, 5.42154e-05, 0.00583255, 0.999983)
bones/23/scale = Vector3(1.00005, 1.00005, 1.00005)
bones/24/rotation = Quaternion(0.000133827, 5.40524e-05, 0.0152863, 0.999883)
bones/24/scale = Vector3(1.00005, 1.00005, 1.00005)
bones/25/rotation = Quaternion(0.000124732, 5.55077e-05, 0.0135754, 0.999908)
bones/25/scale = Vector3(1.00005, 1.00005, 1.00005)
bones/26/position = Vector3(0.000285164, 0.0403829, 0.047424)
bones/26/rotation = Quaternion(0.168764, 0.198674, 0.258422, 0.930196)
bones/26/scale = Vector3(1.00005, 1.00005, 1.00005)
bones/27/rotation = Quaternion(0.0876716, 0.000916332, -0.111515, 0.989888)
bones/27/scale = Vector3(1.00005, 1.00005, 1.00005)
bones/28/rotation = Quaternion(-0.0156883, 0.0107397, 0.116324, 0.993029)
bones/28/scale = Vector3(1.00005, 1.00005, 1.00005)
bones/29/position = Vector3(0.131188, 0.0855475, 3.0694e-05)
bones/29/rotation = Quaternion(-0.0752731, -0.399452, 0.897344, -0.171891)
bones/29/scale = Vector3(1.00005, 1.00005, 1.00005)
bones/30/rotation = Quaternion(0.473725, -0.00356646, -0.0625248, 0.878443)
bones/30/scale = Vector3(1.00005, 1.00005, 1.00005)
bones/31/rotation = Quaternion(-0.0376793, -0.0195005, 0.0472945, 0.99798)
bones/31/scale = Vector3(1.00005, 1.00005, 1.00005)
bones/32/rotation = Quaternion(8.44006e-05, 5.20049e-05, -0.00572627, 0.999984)
bones/32/scale = Vector3(1.00005, 1.00005, 1.00005)
bones/33/rotation = Quaternion(0.000135433, 5.24732e-05, -0.01518, 0.999885)
bones/33/scale = Vector3(1.00005, 1.00005, 1.00005)
bones/34/rotation = Quaternion(0.000126165, 5.06882e-05, -0.0134691, 0.999909)
bones/34/scale = Vector3(1.00005, 1.00005, 1.00005)
bones/35/position = Vector3(-0.000187552, 0.040341, 0.0474246)
bones/35/rotation = Quaternion(0.0841985, -0.148709, -0.238236, 0.956055)
bones/35/scale = Vector3(1.00005, 1.00005, 1.00005)
bones/36/rotation = Quaternion(0.0876596, -0.000820854, 0.111629, 0.989876)
bones/36/scale = Vector3(1.00005, 1.00005, 1.00005)
bones/37/rotation = Quaternion(-0.0156771, -0.0106328, -0.11622, 0.993043)
bones/37/scale = Vector3(1.00005, 1.00005, 1.00005)
bones/38/rotation = Quaternion(-0.00629363, 0.296468, 0.954743, -0.0230799)
bones/39/rotation = Quaternion(-0.537467, 0.000234835, -0.0080685, 0.843246)
bones/40/rotation = Quaternion(0.607823, -0.00350685, 0.0626639, 0.791588)
bones/41/rotation = Quaternion(0.347111, -0.0016432, -0.0190179, 0.93763)
bones/42/rotation = Quaternion(0.0320931, 0.554571, 0.830962, 0.0303761)
bones/43/rotation = Quaternion(-0.837341, -0.000152214, 0.0125702, 0.546536)
bones/44/rotation = Quaternion(0.378425, -0.0224819, -0.0630848, 0.923206)
bones/45/rotation = Quaternion(0.0993536, -0.0248787, 0.0456354, 0.993694)
bones/46/rotation = Quaternion(0.997367, -6.75482e-09, 1.18882e-07, -0.0725219)
bones/47/rotation = Quaternion(-0.00516249, 6.32175e-10, -2.41996e-09, 0.999987)
bones/48/rotation = Quaternion(0.974704, 2.64785e-08, 1.16481e-07, 0.223502)
bones/49/rotation = Quaternion(0.883237, 4.27836e-08, -1.05639e-07, -0.468928)
bones/50/rotation = Quaternion(-0.107365, 9.24201e-09, 1.14268e-08, 0.99422)
bones/51/rotation = Quaternion(0.844338, -4.70245e-05, -0.00061871, 0.53581)
bones/52/position = Vector3(0.111071, -0.0839093, -0.126915)
bones/52/rotation = Quaternion(0.0163298, 0, 0.999867, 0)
bones/54/position = Vector3(-0.111071, 0.00575177, -0.409777)
bones/54/rotation = Quaternion(-0.0163296, 0, 0.999867, 0)
bones/57/position = Vector3(-0.25366, 0.147719, -1.10962)
bones/57/rotation = Quaternion(-0.707069, 7.53675e-05, -1.91073e-07, 0.707144)
bones/57/scale = Vector3(1.00005, 1.00005, 1.00005)
bones/59/position = Vector3(0.262666, -0.131761, -1.11427)
bones/59/rotation = Quaternion(-0.707069, 7.5199e-05, -2.24766e-08, 0.707144)
bones/59/scale = Vector3(1.00005, 1.00005, 1.00005)

[node name="AnimationTree" type="AnimationTree" parent="."]
tree_root = SubResource("AnimationNodeBlendTree_5c7fh")
anim_player = NodePath("../Model/AnimationPlayer")
active = true
parameters/BasicMovement/blend_position = 0.0
parameters/Combat/Attack/active = false
parameters/Combat/Attack/internal_active = false
parameters/Combat/Attack/request = 0
parameters/Combat/Cast/active = false
parameters/Combat/Cast/internal_active = false
parameters/Combat/Cast/request = 0
parameters/Combat/DeathHandler/blend_amount = 0.0
parameters/Combat/Dodge/active = false
parameters/Combat/Dodge/internal_active = false
parameters/Combat/Dodge/request = 0
parameters/Combat/Hit/active = false
parameters/Combat/Hit/internal_active = false
parameters/Combat/Hit/request = 0
parameters/Combat/IdleOrActive/blend_position = -1.0
parameters/Combat/ResetDeath/seek_request = -1.0
parameters/CombatControl/blend_amount = 0.0

[node name="BackAnchor" type="Node3D" parent="."]
transform = Transform3D(0.87339, -0.487022, 0, 0.487022, 0.87339, 0, 0, 0, 1, 0.416, -0.5, -0.129)

[node name="IdleCombatAnchor" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0.0211008, 0.0529301, -1.23596)

[node name="ActiveCombatAnchor" type="Node3D" parent="."]
transform = Transform3D(0.251531, 5.73318e-05, -0.967849, -0.967439, -0.0291096, -0.251426, -0.0281881, 0.999576, -0.00726648, 0.029447, 0.055098, -0.517589)

[node name="Weapon" parent="." instance=ExtResource("2_nf168")]

[node name="NavigationAgent3D" type="NavigationAgent3D" parent="."]
path_desired_distance = 0.5
target_desired_distance = 0.5

[node name="DialogueHolder" type="Node3D" parent="."]
script = ExtResource("3_2wb2x")

[node name="DialogueBox" type="StaticBody3D" parent="."]
collision_layer = 4
input_ray_pickable = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="DialogueBox"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.02305, 0)
shape = SubResource("BoxShape3D_q3a1p")

[node name="CameraPositioner" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.573, 0)

[node name="SecondaryAnchor" type="Node3D" parent="."]
transform = Transform3D(-0.158533, -0.487022, 0.858881, -0.0884016, 0.87339, 0.478932, -0.983388, 2.23517e-08, -0.181515, 0.303228, -0.2582, -0.144977)

[node name="SecondaryWeapon" type="Node3D" parent="."]
transform = Transform3D(-0.158533, -0.487022, 0.858881, -0.0884016, 0.87339, 0.478932, -0.983388, 2.23517e-08, -0.181515, 0.303228, -0.2582, -0.144977)

[editable path="Model"]
