[gd_scene load_steps=29 format=3 uid="uid://cnnbqshdbaks4"]

[ext_resource type="PackedScene" uid="uid://dxo8axv6qyav6" path="res://Party/Vakthol/vakthol.glb" id="1_ypitp"]
[ext_resource type="PackedScene" uid="uid://yhwlyfetwmre" path="res://Party/Vakthol/vakthol_axe.glb" id="2_nf168"]
[ext_resource type="AnimationNodeBlendTree" uid="uid://bb1oypehus0u" path="res://Party/0Core/member_animation_tree.tres" id="2_qiuoa"]
[ext_resource type="Script" path="res://Dialogue/0Core/DialogueInteraction.cs" id="3_2wb2x"]
[ext_resource type="Script" path="res://Party/0Core/CharacterAudioController.cs" id="4_bslup"]
[ext_resource type="AudioStream" uid="uid://b7i785pitce5k" path="res://Core/footstep1.wav" id="4_nlb1i"]
[ext_resource type="AudioStream" uid="uid://bok1x07qalrg5" path="res://Core/footstep2.wav" id="6_7v4yr"]
[ext_resource type="AudioStream" uid="uid://cssk5x4i0ki51" path="res://Core/footstep3.wav" id="7_angnx"]
[ext_resource type="AudioStream" uid="uid://cti7dd0fwm5ww" path="res://Core/footstep4.wav" id="8_me1al"]
[ext_resource type="AudioStream" uid="uid://b546dpfrw5vpp" path="res://Core/footstep5.wav" id="9_hrfle"]
[ext_resource type="AudioStream" uid="uid://bm3i2wii2wk4f" path="res://Core/footstep6.wav" id="10_bg0xl"]
[ext_resource type="AudioStream" uid="uid://c1r2wlvij1wh8" path="res://Core/footsteps_grass1.wav" id="11_4wmy6"]
[ext_resource type="AudioStream" uid="uid://cwvfd71mwaj8u" path="res://Core/footsteps_grass2.wav" id="12_wmr0o"]
[ext_resource type="AudioStream" uid="uid://ekeqosutj7gi" path="res://Core/footsteps_grass3.wav" id="13_cjiql"]
[ext_resource type="AudioStream" uid="uid://d3y8bkl5eaysb" path="res://Core/footsteps_grass4.wav" id="14_smw0x"]
[ext_resource type="AudioStream" uid="uid://d3besxcv2duhq" path="res://Core/footsteps_grass5.wav" id="15_q5v1k"]
[ext_resource type="AudioStream" uid="uid://ck5donxagp11w" path="res://Core/footsteps_grass6.wav" id="16_f1o1m"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_snhpk"]
radius = 0.25

[sub_resource type="Animation" id="Animation_pp8hq"]
resource_name = "Blank"

[sub_resource type="Animation" id="Animation_i4xf4"]
resource_name = "RunMethods"
loop_mode = 1
step = 0.01
tracks/0/type = "method"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AudioHandler")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0.06, 0.53),
"transitions": PackedFloat32Array(1, 1),
"values": [{
"args": [],
"method": &"PlayFootstep"
}, {
"args": [],
"method": &"PlayFootstep"
}]
}

[sub_resource type="Animation" id="Animation_vnoh0"]
resource_name = "WalkEvents"
length = 1.0833
loop_mode = 1
step = 0.01
tracks/0/type = "method"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AudioHandler")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0.11, 0.61),
"transitions": PackedFloat32Array(1, 1),
"values": [{
"args": [],
"method": &"PlayFootstep"
}, {
"args": [],
"method": &"PlayFootstep"
}]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_upklh"]
_data = {
"Blank": SubResource("Animation_pp8hq"),
"RunMethods": SubResource("Animation_i4xf4"),
"WalkEvents": SubResource("Animation_vnoh0")
}

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_d4p7v"]
animation = &"WalkEvents"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_vqwxf"]
animation = &"RunMethods"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_7ameu"]
animation = &"Blank"

[sub_resource type="AnimationNodeBlendSpace1D" id="AnimationNodeBlendSpace1D_76xkv"]
blend_point_0/node = SubResource("AnimationNodeAnimation_d4p7v")
blend_point_0/pos = 0.0
blend_point_1/node = SubResource("AnimationNodeAnimation_vqwxf")
blend_point_1/pos = 1.0
blend_point_2/node = SubResource("AnimationNodeAnimation_7ameu")
blend_point_2/pos = -1.0

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_wdjpd"]
graph_offset = Vector2(-237.696, 9.00406)
nodes/Movement/node = SubResource("AnimationNodeBlendSpace1D_76xkv")
nodes/Movement/position = Vector2(240, 100)
nodes/output/position = Vector2(460, 100)
node_connections = [&"output", 0, &"Movement"]

[sub_resource type="BoxShape3D" id="BoxShape3D_q3a1p"]
size = Vector3(1, 2, 1)

[node name="vakthol_holder" type="Node3D"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
shape = SubResource("CapsuleShape3D_snhpk")

[node name="Model" parent="." instance=ExtResource("1_ypitp")]

[node name="Skeleton3D" parent="Model/Armature" index="0"]
bones/0/rotation = Quaternion(0.707107, -5.33851e-08, -5.33851e-08, 0.707107)
bones/1/position = Vector3(-1.4712e-07, 2.0513e-28, -0.974329)
bones/1/rotation = Quaternion(-0.665795, -0.00352453, 0.0121708, 0.746027)
bones/4/rotation = Quaternion(-8.9178e-10, 0.00315283, -1.10894e-10, 0.999995)
bones/5/rotation = Quaternion(-0.0243144, -1.21897e-10, -0.0069334, 0.99968)
bones/6/rotation = Quaternion(-0.106866, 0.100355, -0.679152, 0.719209)
bones/9/rotation = Quaternion(-0.213765, -0.0328844, 0.136799, 0.9667)
bones/10/rotation = Quaternion(-0.0303708, -0.214137, 0.96824, 0.125433)
bones/11/rotation = Quaternion(-0.106866, -0.100355, 0.679152, 0.719209)
bones/16/rotation = Quaternion(0.779908, 3.73084e-07, 6.50833e-07, 0.625895)
bones/18/rotation = Quaternion(-0.212504, -0.0322671, 0.13875, 0.966721)
bones/20/position = Vector3(-0.131169, 0.0856322, 1.5976e-07)
bones/20/rotation = Quaternion(0.065052, -0.212184, 0.952774, 0.207288)
bones/20/scale = Vector3(1, 1, 1)
bones/21/rotation = Quaternion(0.567257, 0.00333018, 0.0748698, 0.820124)
bones/21/scale = Vector3(1, 1, 1)
bones/22/rotation = Quaternion(-0.229459, -1.41603e-05, 0.0228171, 0.973051)
bones/22/scale = Vector3(1, 1, 1)
bones/23/rotation = Quaternion(3.09432e-05, 7.54566e-07, 0.00577939, 0.999983)
bones/23/scale = Vector3(1, 1, 1)
bones/24/rotation = Quaternion(8.14863e-05, 9.45053e-08, 0.0152332, 0.999884)
bones/25/rotation = Quaternion(7.22979e-05, 1.63996e-06, 0.0135223, 0.999909)
bones/25/scale = Vector3(1, 1, 1)
bones/26/position = Vector3(0.000224718, 0.0403878, 0.0473546)
bones/26/rotation = Quaternion(0.168758, 0.198671, 0.258421, 0.930199)
bones/26/scale = Vector3(1, 1, 1)
bones/27/rotation = Quaternion(0.0876131, 0.000874297, -0.111572, 0.989886)
bones/28/rotation = Quaternion(-0.0157355, 0.0106799, 0.116273, 0.993035)
bones/29/position = Vector3(0.131169, 0.0856323, 2.522e-07)
bones/29/rotation = Quaternion(-0.0550066, -0.364678, 0.911803, -0.180554)
bones/29/scale = Vector3(0.999999, 1, 1)
bones/30/rotation = Quaternion(0.502731, -0.00349923, -0.0663532, 0.861885)
bones/30/scale = Vector3(1, 1, 1)
bones/31/rotation = Quaternion(-0.0788583, -0.0122237, 0.0369796, 0.996125)
bones/31/scale = Vector3(1, 1, 1)
bones/32/rotation = Quaternion(3.09309e-05, -8.42519e-07, -0.00577943, 0.999983)
bones/32/scale = Vector3(1, 1, 1)
bones/33/rotation = Quaternion(8.14733e-05, 1.34527e-07, -0.0152332, 0.999884)
bones/33/scale = Vector3(1, 1, 1)
bones/34/rotation = Quaternion(7.22958e-05, -1.74184e-06, -0.0135223, 0.999909)
bones/34/scale = Vector3(1, 1, 1)
bones/35/position = Vector3(-0.000224772, 0.040388, 0.0473547)
bones/35/rotation = Quaternion(0.0841912, -0.148709, -0.238238, 0.956055)
bones/35/scale = Vector3(1, 1, 1)
bones/36/rotation = Quaternion(0.0876129, -0.000874751, 0.111572, 0.989886)
bones/36/scale = Vector3(1, 1, 1)
bones/37/rotation = Quaternion(-0.0157355, -0.0106803, -0.116273, 0.993035)
bones/37/scale = Vector3(1, 1, 1)
bones/38/rotation = Quaternion(0.0024026, 0.262739, 0.964659, -0.0198721)
bones/39/rotation = Quaternion(-0.522709, 0.000237405, -0.00784695, 0.852475)
bones/40/rotation = Quaternion(0.604945, -0.00313822, 0.0626474, 0.793793)
bones/41/rotation = Quaternion(0.347111, -0.0016432, -0.0190179, 0.93763)
bones/42/rotation = Quaternion(0.0438915, 0.597624, 0.80007, 0.0283965)
bones/43/rotation = Quaternion(-0.822891, -0.00015821, 0.0123533, 0.568065)
bones/44/rotation = Quaternion(0.378425, -0.0224819, -0.0630848, 0.923206)
bones/45/rotation = Quaternion(0.0993536, -0.0248787, 0.0456354, 0.993694)
bones/46/rotation = Quaternion(0.994145, -2.45981e-09, 1.186e-07, -0.108051)
bones/47/rotation = Quaternion(-0.00546315, 5.81916e-10, -2.75635e-09, 0.999985)
bones/48/rotation = Quaternion(0.974544, 2.63178e-08, 1.16618e-07, 0.224198)
bones/49/rotation = Quaternion(0.891473, 4.52237e-08, -1.06597e-07, -0.453073)
bones/50/rotation = Quaternion(-0.107365, 9.06916e-09, 1.11124e-08, 0.99422)
bones/51/rotation = Quaternion(0.769085, -0.000232169, -0.00305782, 0.63914)
bones/52/position = Vector3(0.111071, -0.126751, -0.146515)
bones/52/rotation = Quaternion(0.0163298, 0, 0.999867, 0)
bones/54/position = Vector3(-0.111071, 0.078215, -0.416946)
bones/54/rotation = Quaternion(-0.0163296, 0, 0.999867, 0)
bones/57/position = Vector3(-0.25366, 0.0929541, -1.1197)
bones/57/rotation = Quaternion(-0.707107, 1.91064e-07, -1.91064e-07, 0.707107)
bones/59/position = Vector3(0.262666, -0.0776227, -1.12937)
bones/59/rotation = Quaternion(-0.707107, 2.24765e-08, -2.24765e-08, 0.707107)

[node name="AnimationTree" type="AnimationTree" parent="."]
tree_root = ExtResource("2_qiuoa")
anim_player = NodePath("../Model/AnimationPlayer")
active = true
parameters/BasicMovement/blend_position = 0.0
parameters/Combat/Attack/active = false
parameters/Combat/Attack/internal_active = false
parameters/Combat/Attack/request = 0
parameters/Combat/Cast/active = false
parameters/Combat/Cast/internal_active = false
parameters/Combat/Cast/request = 0
parameters/Combat/DeathHandler/blend_amount = 0.0
parameters/Combat/Dodge/active = false
parameters/Combat/Dodge/internal_active = false
parameters/Combat/Dodge/request = 0
parameters/Combat/Hit/active = false
parameters/Combat/Hit/internal_active = false
parameters/Combat/Hit/request = 0
parameters/Combat/IdleOrActive/blend_position = -1.0
parameters/Combat/ResetDeath/seek_request = -1.0
parameters/CombatControl/blend_amount = 0.0

[node name="AnimationMethods" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_upklh")
}

[node name="MethodsTree" type="AnimationTree" parent="."]
tree_root = SubResource("AnimationNodeBlendTree_wdjpd")
anim_player = NodePath("../AnimationMethods")
active = true
parameters/Movement/blend_position = 0

[node name="BackAnchor" type="Node3D" parent="."]
transform = Transform3D(0.87339, -0.487022, 0, 0.487022, 0.87339, 0, 0, 0, 1, 0.416, -0.5, -0.129)

[node name="IdleCombatAnchor" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0.0211008, 0.0529301, -1.23596)

[node name="ActiveCombatAnchor" type="Node3D" parent="."]
transform = Transform3D(0.251531, 5.73318e-05, -0.967849, -0.967439, -0.0291096, -0.251426, -0.0281881, 0.999576, -0.00726648, 0.029447, 0.055098, -0.517589)

[node name="Weapon" parent="." instance=ExtResource("2_nf168")]

[node name="NavigationAgent3D" type="NavigationAgent3D" parent="."]
path_desired_distance = 0.5
target_desired_distance = 0.5

[node name="DialogueHolder" type="Node3D" parent="."]
script = ExtResource("3_2wb2x")

[node name="DialogueBox" type="StaticBody3D" parent="."]
collision_layer = 4
input_ray_pickable = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="DialogueBox"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.02305, 0)
shape = SubResource("BoxShape3D_q3a1p")

[node name="CameraPositioner" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.573, 0)

[node name="SecondaryAnchor" type="Node3D" parent="."]
transform = Transform3D(-0.158533, -0.487022, 0.858881, -0.0884016, 0.87339, 0.478932, -0.983388, 2.23517e-08, -0.181515, 0.303228, -0.2582, -0.144977)

[node name="SecondaryWeapon" type="Node3D" parent="."]
transform = Transform3D(-0.158533, -0.487022, 0.858881, -0.0884016, 0.87339, 0.478932, -0.983388, 2.23517e-08, -0.181515, 0.303228, -0.2582, -0.144977)

[node name="dirtFootsteps" type="Node3D" parent="."]

[node name="Footstep1" type="AudioStreamPlayer3D" parent="dirtFootsteps"]
stream = ExtResource("4_nlb1i")

[node name="Footstep2" type="AudioStreamPlayer3D" parent="dirtFootsteps"]
stream = ExtResource("6_7v4yr")

[node name="Footstep3" type="AudioStreamPlayer3D" parent="dirtFootsteps"]
stream = ExtResource("7_angnx")

[node name="Footstep4" type="AudioStreamPlayer3D" parent="dirtFootsteps"]
stream = ExtResource("8_me1al")

[node name="Footstep5" type="AudioStreamPlayer3D" parent="dirtFootsteps"]
stream = ExtResource("9_hrfle")

[node name="Footstep6" type="AudioStreamPlayer3D" parent="dirtFootsteps"]
stream = ExtResource("10_bg0xl")

[node name="grassFootsteps" type="Node3D" parent="."]

[node name="Footstep1" type="AudioStreamPlayer3D" parent="grassFootsteps"]
stream = ExtResource("11_4wmy6")
volume_db = 36.761

[node name="Footstep2" type="AudioStreamPlayer3D" parent="grassFootsteps"]
stream = ExtResource("12_wmr0o")
volume_db = 36.761

[node name="Footstep3" type="AudioStreamPlayer3D" parent="grassFootsteps"]
stream = ExtResource("13_cjiql")
volume_db = 36.761

[node name="Footstep4" type="AudioStreamPlayer3D" parent="grassFootsteps"]
stream = ExtResource("14_smw0x")
volume_db = 36.761

[node name="Footstep5" type="AudioStreamPlayer3D" parent="grassFootsteps"]
stream = ExtResource("15_q5v1k")
volume_db = 36.761

[node name="Footstep6" type="AudioStreamPlayer3D" parent="grassFootsteps"]
stream = ExtResource("16_f1o1m")
volume_db = 36.761

[node name="AudioHandler" type="Node3D" parent="."]
script = ExtResource("4_bslup")

[editable path="Model"]
